<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Aetheris</title>

  <!-- Content-Security-Policy: permite estilos inline (necess√°rio para Leaflet popups),permite imagens de tiles.openstreetmap e recursos do unpkg/cdn.jsdelivr -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    img-src 'self' data: https://*.tile.openstreetmap.org https://unpkg.com https://cdn.jsdelivr.net;
    style-src 'self' 'unsafe-inline' https://unpkg.com https://cdn.jsdelivr.net;
    script-src 'self' 'unsafe-inline' https://unpkg.com https://cdn.jsdelivr.net;
    connect-src 'self' http://localhost:3000 https://data.inpe.br https://*.tile.openstreetmap.org https://seu-endpoint-wtss https://seu-endpoint-stac;
  ">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>

  <style>
    /* Estilos m√≠nimos para popup WTSS e canvas (evita inline styles nas strings) */
    .wtss-popup {
        font-family: Arial, sans-serif;
        font-size: 13px;
        line-height: 1.3;
        width: 300px;
        box-sizing: border-box;
        padding: 6px 8px;
    }
    .wtss-title { margin: 0 0 6px 0; font-size: 14px; }
    .wtss-period { margin: 0 0 6px 0; font-size: 12px; color: #333; }
    .wtss-chart-wrap { width: 100%; height: 150px; margin-bottom: 6px; }
    .wtss-vals { margin: 4px 0 2px 0; font-weight: 600; font-size: 12px; }
    .wtss-vals-list { font-size: 11px; word-wrap: break-word; max-height: 80px; overflow-y: auto; }
    .wtss-popup-container .leaflet-popup-content-wrapper { box-shadow: 0 2px 10px rgba(0,0,0,0.2); }

    /* Ajustes b√°sicos para o mapa e layout*/
    html, body, #map { height: 100%; margin: 0; padding: 0; }
  </style>
</head>
<body>

<!-- POPUP DE TUTORIAL -->
<div id="tutorial-overlay" class="tutorial-overlay hidden">
  <div class="tutorial-box">
    <h2>Bem-vindo ao <span style="color:#4A59FF;">Aetheris</span>!</h2>
    <p>üåç Este mapa permite explorar dados de sat√©lites e s√©ries temporais.  
       Vamos aprender a usar?</p>
    <button id="tutorial-next">Pr√≥ximo ‚û§</button>
  </div>
</div>

  <div id="sidebar">

    <h1>Aetheris</h1>
    <img src="logo aetheris.png" alt="Logo" class="logo">

    <div class="tag-selector">
      
      <input type="text" id="tag-input" placeholder="Buscar ou selecionar..." autocomplete="off" />
      <ul id="suggestions" class="suggestions"></ul>
      <div id="selected-tags" class="selected-tags"></div>
    </div>
  </div>

  <div id="map"></div>

  <div id="info-panel-right"></div>

  <script src="script.js"></script>
</body>
</html>
